import java.util.Scanner;
import java.time.LocalDate;

public class LibraryTrackingSystem {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);

        // Predefined books
        String[] bookTitles = {"Java Basics", "Data Structures", "Operating Systems", "Database Concepts", "Computer Networks"};
        String[] authors = {"James Gosling", "Narasimha Karumanchi", "Galvin", "Elmasri", "Tanenbaum"};
        boolean[] isAvailable = {true, true, true, true, true};
        LocalDate[] dueDates = new LocalDate[bookTitles.length]; // store due dates

        int choice;
        do {
            System.out.println("\n=== Library Tracking System ===");
            System.out.println("1. Display Available Books");
            System.out.println("2. Issue a Book");
            System.out.println("3. Return a Book");
            System.out.println("4. Exit");
            System.out.print("Enter your choice: ");
            choice = sc.nextInt();

            switch (choice) {
                case 1:
                    System.out.println("\nAvailable Books:");
                    for (int i = 0; i < bookTitles.length; i++) {
                        if (isAvailable[i]) {
                            System.out.println((i+1) + ". " + bookTitles[i] + " by " + authors[i]);
                        }
                    }
                    break;

                case 2:
                    System.out.print("Enter book number to issue: ");
                    int issueNo = sc.nextInt();
                    if (issueNo < 1 || issueNo > bookTitles.length) {
                        System.out.println("Invalid book number!");
                    } else if (!isAvailable[issueNo-1]) {
                        System.out.println("Sorry, book already issued!");
                    } else {
                        isAvailable[issueNo-1] = false;
                        LocalDate issueDate = LocalDate.now();
                        LocalDate returnDate = issueDate.plusDays(15);
                        dueDates[issueNo-1] = returnDate;
                        System.out.println("You have issued: " + bookTitles[issueNo-1]);
                        System.out.println("Issue Date: " + issueDate);
                        System.out.println("Return Date (after 15 days): " + returnDate);
                    }
                    break;

                case 3:
                    System.out.print("Enter book number to return: ");
                    int returnNo = sc.nextInt();
                    if (returnNo < 1 || returnNo > bookTitles.length) {
                        System.out.println("Invalid book number!");
                    } else if (isAvailable[returnNo-1]) {
                        System.out.println("This book was not issued!");
                    } else {
                        isAvailable[returnNo-1] = true;
                        System.out.println("You have returned: " + bookTitles[returnNo-1]);
                        System.out.println("Due Date was: " + dueDates[returnNo-1]);
                        dueDates[returnNo-1] = null; // clear due date
                    }
                    break;

                case 4:
                    System.out.println("Exiting... Thank you!");
                    break;

                default:
                    System.out.println("Invalid choice!");
            }
        } while (choice != 4);

        sc.close();
    }
}
